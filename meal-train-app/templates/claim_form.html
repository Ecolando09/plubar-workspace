<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Claim This Meal!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
:root {
  --color-primary: #667eea; --color-secondary: #764ba2; --color-success: #48bb78;
  --color-success-light: #c6f6d5; --color-text-primary: #1a202c;
  --color-text-secondary: #4a5568; --color-background: #f7fafc;
  --color-surface: #ffffff; --color-border: #e2e8f0;
  --space-xs:4px; --space-sm:8px; --space-md:16px; --space-lg:24px; --space-xl:32px;
  --radius-sm:8px; --radius-md:12px; --radius-lg:16px; --radius-xl:24px;
  --shadow-sm:0 1px 3px rgba(0,0,0,0.08); --shadow-md:0 4px 12px rgba(0,0,0,0.1);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{
  font:400 16px/1.6 var(--font-family,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto);
  color:var(--color-text-primary);
  background:linear-gradient(135deg,var(--color-primary),var(--color-secondary));
  min-height:100vh;padding:var(--space-md);
  display:flex;align-items:center;justify-content:center
}
.container{max-width:500px;width:100%;background:var(--color-surface);
  border-radius:var(--radius-xl);padding:var(--space-xl);
  box-shadow:var(--shadow-md)}
h1{font:700 28px/1.2 Nunito,var(--font-family);color:var(--color-success);
  margin-bottom:var(--space-sm);text-align:center}
.section{margin-bottom:var(--space-lg)}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm);
  padding:14px var(--space-lg);font:600 18px/1 var(--font-family);border:none;
  border-radius:var(--radius-md);cursor:pointer;min-height:56px;width:100%}
.btn-venmo{background:#008CFF;color:white}
.btn-venmo:hover{background:#0073d4}
.btn-other{background:var(--color-background);color:var(--color-text-primary);
  border:2px solid var(--color-border)}
.btn-back{background:var(--color-background);color:var(--color-text-primary);
  margin-top:var(--space-sm)}
.info-box{background:var(--color-success-light);border-radius:var(--radius-md);
  padding:var(--space-lg);margin-bottom:var(--space-lg);text-align:center}
.meal-amount{font:700 36px/1 Nunito,var(--font-family);color:var(--color-success);
  margin:var(--space-sm) 0}
.meal-type{font-size:18px;color:var(--color-text-secondary)}
.payment-options{display:flex;flex-direction:column;gap:var(--space-sm)}
</style>
</head>
<body>
    <div class="container">
        <div style="font-size:48px;margin-bottom:var(--space-md);text-align:center;">üöÇ</div>
        
        <h1>üéØ Claim This Meal!</h1>
        
        <div class="info-box">
            <div class="icon">üë∂</div>
            <p style="font-weight:600;">The Atlas family needs a meal!</p>
            {% if meal.meal_type %}
            <p class="meal-type">{{ meal.meal_type }}</p>
            {% endif %}
            {% if meal.note %}
            <p style="margin-top:var(--space-sm);font-style:italic;">"{{ meal.note }}"</p>
            {% endif %}
            {% if meal.amount %}
            <p class="meal-amount">${{ meal.amount }}</p>
            {% endif %}
        </div>
        
        <p style="text-align:center;margin-bottom:var(--space-lg);color:var(--color-text-secondary);">
            Who is claiming this meal?
        </p>
        
        <form method="POST" action="/claim/{{ meal.id }}/confirm">
            <input type="hidden" name="email" value="{{ request.args.get('email', '') }}">
            
            <div class="section">
                <label style="display:block;margin-bottom:var(--space-sm);font-weight:600;">Your Name</label>
                <input type="text" name="participant_name" placeholder="Enter your name" required
                       style="width:100%;padding:var(--space-md);border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:16px;">
            </div>
            
            <div class="payment-options">
                <button type="submit" name="method" value="venmo" class="btn btn-venmo">
                    üí≥ Pay via Venmo
                </button>
                
                <button type="submit" name="method" value="other" class="btn btn-other">
                    üíµ Pay via my own method
                </button>
            </div>
        </form>
        
        <a href="/" class="btn btn-back">‚Üê Back to Train</a>
    </div>
</body>
</html>
